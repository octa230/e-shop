{"ast":null,"code":"import _asyncToGenerator from\"/home/octa/e-shop/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/octa/e-shop/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/home/octa/e-shop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/octa/e-shop/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useReducer}from'react';//import { Link } from 'react-router-dom'\nimport axios from'axios';import logger from'use-reducer-logger';import Product from'../components/Product';import{Helmet}from'react-helmet-async';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{Grid}from'@mui/material';import ScrollBar from'../components/ScrollBar';import{Container}from'@mui/material';import Footer from'../components/Footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var reducer=function reducer(state,action){switch(action.type){case'FETCH_REQUEST':return _objectSpread(_objectSpread({},state),{},{loading:true});case'FETCH_SUCCESS':return _objectSpread(_objectSpread({},state),{},{products:action.payload,loading:false});case'FETCH_FAIL':return _objectSpread(_objectSpread({},state),{},{loading:false,error:action.payload});default:return state;}};var HomeScreen=function HomeScreen(){//const [products, setProducts] = useState([]);\nvar _useReducer=useReducer(logger(reducer),{products:[],loading:true,error:''}),_useReducer2=_slicedToArray(_useReducer,2),_useReducer2$=_useReducer2[0],loading=_useReducer2$.loading,error=_useReducer2$.error,products=_useReducer2$.products,dispatch=_useReducer2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:'FETCH_REQUEST'});_context.prev=1;_context.next=4;return axios.get('/api/products');case 4:result=_context.sent;dispatch({type:'FETCH_SUCCESS',payload:result.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch({type:'FETCH_FAIL',payload:_context.t0.message});case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsxs(Container,{maxWidth:\"\",children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Chateu Des Fluers\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"scrollbar\",children:/*#__PURE__*/_jsx(ScrollBar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"products\",children:loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:{xs:1,md:3},columns:{xs:2,sm:8,md:12},children:products.map(function(product){return/*#__PURE__*/_jsx(Grid,{item:true,xs:2,sm:4,md:4,className:\"mb-3\",children:/*#__PURE__*/_jsx(Product,{product:product})},product.slug);})})})]});};export default HomeScreen;","map":{"version":3,"sources":["/home/octa/e-shop/frontend/src/screens/HomeScreen.js"],"names":["React","useEffect","useReducer","axios","logger","Product","Helmet","LoadingBox","MessageBox","Grid","ScrollBar","Container","Footer","reducer","state","action","type","loading","products","payload","error","HomeScreen","dispatch","fetchData","get","result","data","message","xs","md","sm","map","product","slug"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer } from 'react'\n//import { Link } from 'react-router-dom'\nimport axios from 'axios'\nimport logger from 'use-reducer-logger'\nimport Product from '../components/Product'\nimport { Helmet } from 'react-helmet-async'\nimport LoadingBox from '../components/LoadingBox'\nimport MessageBox from '../components/MessageBox'\nimport { Grid,} from '@mui/material'\nimport ScrollBar from '../components/ScrollBar'\nimport { Container } from '@mui/material'\nimport Footer from '../components/Footer'\n\n\n\n\n\nconst reducer =(state, action) => {\n  switch(action.type) {\n    case 'FETCH_REQUEST':\n      return {...state, loading: true};\n      case 'FETCH_SUCCESS': \n      return {...state, products: action.payload, loading:false};\n      case 'FETCH_FAIL':\n        return {...state, loading: false, error: action.payload};\n        default:\n          return state;\n  }\n};\n\n\n\n\n\n\nconst HomeScreen = () => {\n  \n  \n  //const [products, setProducts] = useState([]);\n\n  const [{loading, error, products}, dispatch] = useReducer(logger(reducer), {\n    products: [],\n    loading: true, \n    error: '',\n  });\n  \n  \n  useEffect(() => {\n    const fetchData = async () =>{\n      dispatch({type: 'FETCH_REQUEST'});\n\n      try {\n        const result = await axios.get('/api/products');\n        dispatch({type: 'FETCH_SUCCESS', payload: result.data})\n      } catch (err) {\n\n        dispatch({type: 'FETCH_FAIL', payload: err.message});\n      }\n\n      \n     // setProducts(result.data)\n    };\n    fetchData();\n  }, []);\n  \n  \n  return (\n    <Container maxWidth=''>\n      <Helmet>\n        <title>Chateu Des Fluers</title>\n      </Helmet>\n      \n      <div className='scrollbar'>\n        <ScrollBar />\n      </div>\n      \n     \n    \n    <div className='products'>\n    \n  {\n    loading? (<LoadingBox />): error ? (<MessageBox variant=\"danger\">{error}</MessageBox>) : (\n\n  <Grid container spacing={{xs:1, md: 3}} columns={{xs:2, sm:8, md:12}}>\n    {products.map((product) => (      \n      <Grid item xs={2} sm ={4} md={4} key ={product.slug} className='mb-3'>\n      <Product product ={product}></Product>\n    </Grid>\n    \n    ))}\n    </Grid>\n    )}\n  </div>\n\n\n</Container>\n  )\n}\n\nexport default HomeScreen\n"]},"metadata":{},"sourceType":"module"}